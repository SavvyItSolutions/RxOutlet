@model RxOutlet.Models.UploadPrescriptionModel

@{
    ViewBag.Title = "Upload";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



    <div class="row">
        <!-- Product tab -->
        <div class="block block-tabs tab-left">
            <div class="block-head">
                <ul class="nav-tab">
                    <li class="active"><a data-toggle="tab" href="#tab-1">Fill New Prescription</a></li>
                    <li><a data-toggle="tab" href="#tab-2">Refill Your Prescription</a></li>
                    <li><a data-toggle="tab" href="#tab-3" >Transfer Your Prescription</a></li>
                </ul>
            </div>
            <div class="block-inner">
                <div class="tab-container">
                    <div id="tab-1" class="tab-panel active">

                        <p class="text-center" style="color: #438eb9;"> <strong> Please fill New Prescription by Uploading the Prescription or by Filling the Form. </strong></p>
                  

                        @using (Html.BeginForm("Upload", "Prescription", FormMethod.Post, new { enctype = "multipart/form-data", name = "send-contact", id = "send-contact" }))
                        {
                            <div class="row row-divided">
   
                                <div class="col-xs-6">
                                    <div style="margin-top:10%;"> </div>
                    
                                    <div class="form-group text-center">
                                       
                                            <input type="file"  name="photo" class="btn btn-info btn-cons" multiple>

                                        </div>

                                    <div class="form-group">
                                        <div class="col-md-12 text-center">
                                            <button type="submit" class="btn btn-primary btn-cons"> Upload </button>
                                        </div>
                                    </div>


                                </div>
                                <div class="vertical-divider">or</div>
                                <div class="col-xs-6">

                                    <form class="form-horizontal" action="" method="post">
                                        <fieldset>

                                            <!-- Name input-->
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="name">Physician Name :</label>
                                                <div class="col-md-8">
                                                    @Html.TextBoxFor(m => m.PhysicianName, new { @class = "form-control", id = "txtPhysicianName" })
                                                    @*<input id="name" name="name" type="text" placeholder="" class="form-control">*@
                                                </div>
                                            </div>
                                            <br />
                                            <!-- Email input-->
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="email"> Physician Number:</label>
                                                <div class="col-md-8">
                                                    @Html.TextBoxFor(m => m.PhysicianNumber, new { @class = "form-control", id = "txtPhysicianNumber" })
                                                    @*<input id="" name="" type="text" placeholder="" class="form-control">*@
                                                </div>
                                            </div>
                                            <br/>
                                            <!-- Message body -->
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="message"> Medication for:</label>
                                                <div class="col-md-8">
                                                    @Html.TextAreaFor(m => m.MedicationFor, new { cols = "20", rows = "5", @class = "form-control", id = "txtMedicationFor" })


                                                    @*<textarea class="form-control" id="message" name="message" placeholder="" rows="5"></textarea>*@
                                                </div>
                                            </div>
                                           
                                            
                                            <!-- Form actions -->
                                            <div class="form-group">
                                                <label class="control-label" for="message"> </label>
                                                <div style="margin-bottom:1px;"></div>
                                                <div class="col-md-12 text-right">
                                                    <button type="submit" class="btn btn-primary">Submit</button>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </form>


                                </div>
                            </div>

                        }


                    </div>
                   
                

                    <div id="tab-2" class="tab-panel">
                        <p>Please Reffil your prescription either by entering Prescription Number(s) or by selecting from your previous prescriptions. </p>
                        @using (Html.BeginForm("upload", "Prescription", FormMethod.Post, new { enctype = "multipart/form-data", name = "send-contact", id = "send-contact" }))
                        {


                            <fieldset class="form-horizontal">
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="Title">Prescription Number(s) :</label>
                                    <div class="col-md-7">
                                        @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
                                    </div>
                                    <div class="col-md-3">
                                        <input type="button" value="Refill" class="btn btn-primary" id="btnReFill" />

                                    </div>
                                </div>



                            </fieldset>

                        }


                        <h3 class="text-center">(or)</h3>

                        <div class="row">
                            <div class="col-xs-12">



                                <div class="table-header">
                                    My Prescriptions <span style="float:right;"> <input type="button" id="btnReFill" value="Refill" class="btn btn-info" /></span>

                                </div>

                                <!-- div.table-responsive -->
                                <!-- div.dataTables_borderWrap -->
                                <div>
                                    <div id="dynamic-table_wrapper" class="dataTables_wrapper form-inline no-footer">


                                        <table class="boredered" style="margin-top: 20px;">
                                            <thead>
                                                <tr>
                                                    <!--                                   <th ng-click="sort('EmployeeID')">Employee ID
                                                    <span class="glyphicon sort-icon" ng-show="sortBy=='EmployeeID'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                                                  </th> -->
                                                    <!--                                     <th ng-click="sort('DateOfBirth')">DOB
                                                    <span class="glyphicon sort-icon" ng-show="sortBy=='DateOfBirth'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                                                    </th> -->
                                                    <th ng-click="sort('FirstName')">
                                                        Name
                                                        <span class="glyphicon sort-icon" ng-show="sortBy=='FirstName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                                                    </th>
                                                    <th ng-click="sort('Phonenumber')">
                                                        Phone
                                                        <span class="glyphicon sort-icon" ng-show="sortBy=='Phonenumber'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                                                    </th>
                                                    <!--                                     <th ng-click="sort('SSN')">SSN
                                                    <span class="glyphicon sort-icon" ng-show="sortBy=='SSN'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                                                    </th> -->
                                                    <th ng-click="sort('EmailID')">
                                                        Email
                                                        <span class="glyphicon sort-icon" ng-show="sortBy=='EmailID'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                                                    </th>
                                                    <!--                                   <th ng-click="sort('EmployeeRoleId')">EmployeeRoleId
                                                    <span class="glyphicon sort-icon" ng-show="sortBy=='EmployeeRoleId'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> -->
                                                    </th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="employee in mainCtrl.employees| pagination: curPage * pageSize | limitTo: pageSize|orderBy:sortBy:reverse|filter:search">
                                                    <!-- <td>{{employee.EmployeeID}}</td> -->
                                                    <!-- <td>{{employee.DateOfBirth}}</td> -->
                                                    <td ng-click="updateUser(employee.EmployeeID)">{{employee.FirstName}} {{employee.LastName}} </td>
                                                    <td>{{employee.PhoneNumber}}</td>
                                                    <!-- <td>{{employee.SSN}}</td> -->
                                                    <td>{{employee.EmailID}}</td>
                                                    <!-- <td>{{employee.EmployeeRoleId}}</td> -->
                                                    <td>
                                                        <!--                                     <a href="/images/myw3schoolsimage.jpg" download>
                                                         <i class="fa fa-file-excel-o" aria-hidden="true"></i>
                                                        </a> -->

                                                        <i ng-click="updateUser(employee.EmployeeID)" class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                        <i class="fa fa-trash" aria-hidden="true" ng-click="mainCtrl.deleteEmployee(employee)"></i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="pagination pagination-centered" ng-show="products.length">
                                            <ul class="pagination-controle pagination">
                                                <li>
                                                    <button type="button" class="btn btn-primary" ng-disabled="curPage == 0"
                                                            ng-click="curPage=curPage-1">
                                                        &lt; PREV
                                                    </button>
                                                </li>
                                                <li>
                                                    <span>Page {{curPage + 1}} of {{ numberOfPages() }}</span>
                                                </li>
                                                <li>
                                                    <button type="button" class="btn btn-primary"
                                                            ng-disabled="curPage >= numberOfPages() - 1"
                                                            ng-click="curPage = curPage+1">
                                                        NEXT &gt;
                                                    </button>
                                                </li>
                                            </ul>
                                        </div>














                                        <table ng-controller="PresListCntrl" id="dynamic-table" class="table table-striped table-bordered table-hover dataTable no-footer" role="grid" aria-describedby="dynamic-table_info">
                                            <thead>
                                                <tr role="row">
                                                    <th class="center sorting_disabled" rowspan="1" colspan="1" aria-label="">
                                                        <label class="pos-rel">
                                                            <input type="checkbox" class="ace">
                                                            <span class="lbl"></span>
                                                        </label>
                                                    </th>
                                                    <th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" aria-label="Date activate to sort column ascending"> Last Filled</th>
                                                    <th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" aria-label="Precription ID activate to sort column ascending"> Precription Number</th>
                                                    <th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" aria-label="Name
                                                        activate to sort column ascending">Name of the Medication</th>
                                                    <th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" aria-label="Link
                                                        activate to sort column ascending">Refill Availability Date</th>
                                                    <th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" aria-label="Link
                                                        activate to sort column ascending">Link</th>

                                                </tr>
                                            </thead>

                                            <tbody ng-repeat="x in PresListCntrl.employee">


                                            
                                                <tr>
                                                    <td>  {{x.LastFilled}} </td>
                                                    <td>  {{x.PrescriptionNumber}} </td>
                                                    <td>  {{x.Medication}} </td>
                                                    <td>  {{x.RefillDate}} </td>




</tr>
                                               


                                            </tbody>
                                        </table>



                                        <div class="row">
                                            <div class="col-xs-6">
                                                <div class="dataTables_info" id="dynamic-table_info" role="status" aria-live="polite">Showing 1 to 3 of 3 entries</div>
                                            </div>
                                            <div class="col-xs-6">
                                                <div class="dataTables_paginate paging_simple_numbers" id="dynamic-table_paginate">
                                                    <ul class="pagination">
                                                        <li class="paginate_button previous disabled" aria-controls="dynamic-table" tabindex="0" id="dynamic-table_previous">
                                                            <a href="#">Previous</a>
                                                        </li>
                                                        <li class="paginate_button active" aria-controls="dynamic-table" tabindex="0"><a href="#">1</a></li>
                                                        <li class="paginate_button next disabled" aria-controls="dynamic-table" tabindex="0" id="dynamic-table_next"><a href="#">Next</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-12 text-center">
                                                <input type="button" value="Refill" class="btn btn-primary" />
                                            </div>
                                        </div>
                                    </div>
                                </div>




                            </div>
                        </div>

                    </div>
                    <div id="tab-3" class="tab-panel"  >
                      
                        @Html.Partial("_TransferPrescriptionView")

                    </div>
                </div>
            </div>
        </div>








